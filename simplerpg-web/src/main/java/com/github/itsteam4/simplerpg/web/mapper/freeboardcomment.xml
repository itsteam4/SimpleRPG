<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.github.itsteam4.simplerpg.web.service.FreeBoardCommentDAO">
  	<resultMap type="com.github.itsteam4.simplerpg.web.entity.FreeBoardComment" id="freeboardcommentMap">
  	</resultMap>
  	<select id="commentcount" resultType="Integer">
  		select count(*) from freeboard_comment
  	</select>
  	
  	<select id="commentlist" resultType="hashMap">
  		select * from freeboard_comment where fc_cno = #{fc_bno}
  	</select>
  	
  	<insert id="commentinsert" parameterType="Integer">
  		insert into
  		freeboard_comment(fc_cno,fc_bno,fc_content,fc_writer,fc_reg_date
  		)values(
  			(select ifnull(max(fc_cno)+1,1) from freeboard_comment alias_cno),fc_bno=#{fc_bno,jdbcType=INTEGER},
  			fc_content=#{fc_content,jdbcType=VARCHAR},fc_writer=#{fc_writer,jdbcType=VARCHAR},
  			fc_reg_date=now()	
  		)
  	</insert>
  	
  	<update id="commentupdate" parameterType="Integer">
  		update freeboard_comment
  		set
  		fc_content = #{fc_content}
  		where fc_cno = #{fc_cno}
  	</update>
  	<delete id="commentdelete" parameterType="Integer">
  		delete from freeboard_comment where fc_cno = #{fc_cno}
  	</delete>
 </mapper>

